<!DOCTYPE html>
<!--이 코드는 아름답습니다-->
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>홈페이지</title>
  <style>
    a {
      color: white;
    }
    @font-face {
      font-family: 'font';
      src: url('font/paperlogy.ttf')
      format('truetype');
    }
    @keyframes scroll-left {
        0% { transform: translateX(100%); } /* 오른쪽 끝에서 시작 */
        100% { transform: translateX(-200%); } /* 왼쪽 끝으로 이동 */
      }
  </style>
</head>
<body style="background-color: black; text-align: center; color: white; font-family: 'font', paperlogy; height: 100dvh">
  <div id="main" style="opacity: 0; display: none; max-height: 0px; transition: opacity 1s ease, max-height 1s ease; overflow: hidden;">
    <div style="display: flex; justify-content: center; margin-top: 50px" id="picf">
      <img src="logo.jpg" width="200px" style="margin:0">
    </div>
    <br><br>
    <h1 style="margin-top: 0">KAPS.KR 도메인</h1>
    <p>
      오신것을 환영합니다 | <a href="https://www.instagram.com/im_acops?igsh=MXBrZjlxcW9sbWozeg==">@im_acops</a> | <a onclick="info()" style="text-decoration: underline">'나'는</a>
    </p>

    <p style="bottom: 0px"></p>

    <div style="position: fixed; bottom: 0px; width: 100%; background-color: black; margin: 0" id="bottom">
      <hr>

      <!--이곳에 추가정보 입력-->
      <div style="top: 0; position: fixed; width: 100%; left: 0;">
            <div style="width: 100%; text-align: center; width: 100%; transition: max-height 1s ease, opacity 1s ease; max-height: 0px; overflow: hidden; opacity: 0;" id="infot">
                <p style="font-size: medium; animation: scroll-left 10s linear infinite; white-space: nowrap;">이곳에 추후 여러가지 문구가 들어가게 될 예정입니다. 또한 문의는 aecopse12@gmail.com 으로 해주시기 바랍니다</p>
            </div>
            <hr style="margin: 0;">
        </div>
      <div id="einfo" style="display: none; max-height: 0px; opacity: 0; transition: max-height 1s ease, opacity 1s ease;">
        <h3>새로운 프로젝트!</h3>
        <p><a href="popcorntm.html"style="color: white">POPCORNTM.DEV</a> 에 방문해 보세요<br>CORNS7과 함께 협엽합니다</p>
      </div>

      <div style="display: block; width: 100%; text-align: center; margin-bottom: 0">
        <p style="transition: opacity 1s ease, max-height 1s ease, margin 1s ease; max-height: 200px" id="bottomtext">
          <a href="contact.html">연락처</a> | <a href="list.html">리스트</a> | <a href="design.html">디자인</a>
          <br>
          <a style="text-decoration: underline; font-size: 10px; color: gray" onclick="brun()">
            배너 표시
          </a>&nbsp<a style="text-decoration: underline; font-size: 10px; color: gray" onclick="update()">
            업데이트!
          </a>
        </p>
        
        <div style="display: flex; justify-content: center; opacity: 0; max-height: 0px; margin: 0; transition: opacity 1s ease, max-height 1s ease; width: 100%" id="pfrme">
          <div style="width: 100%">
            <img src="files/wel.jpg" style="width: 420px;" id="infop">
          </div>
        </div>
      </div>
    </div>

    <div id="info" style="max-height: 0px; opacity: 0; overflow: hidden; transition: opacity 1s ease, max-height 1s ease;">
      <br>
      <br><hr style="width: 50%; border: 0.5px solid #444"><br>
      <h1>개발자</h1>
      <p>
        저의 신념은<br><b>'코딩은 예술이다'</b>입니다.
      </p>
      <p>
        그러하여, 저는 코딩에 AI를 사용하지 않습니다<br>저는 코딩하는 그자체로 재미를 느끼기 때문이지요
      </p>
      <p>
        제 머릿속에 있던 이이디어를<br>코딩을 통해 세상으로 내보내는 일은<br>정말 재미있는 일입니다
      </p>
      <p>
        그래서 제가 코딩을 하지요
      </p>
      <br><hr style="width: 50%; border: 0.5px solid #444"><br>
      <p id="date" style="opacity: 0; transition: opacity 0.5s ease, max-height 1s ease; overflow: hidden">
        에니메이션이 재설정 되었습니다
      </p>

    </div>
    <img src="3d_gif/acops_pixelated_black.gif" style="bottom: 0" onclick="location.href='3d.html'" id="3icon">
  </div>
  <div id="start" style="display: none; justify-content: center; align-items: center; height: 100dvh">
    <div id="first" style="transition: opacity 1s ease">
      <h1>환영합니다</h1>
    </div>
    <div id="second" style="display: none; opacity: 0; transition: opacity 1s ease">
      <h1>KAPS.KR 입니다</h1>
    </div>
  </div>

  <div style="display: none; justify-content: center; align-items: center; height: 100dvh" id="corn">
    <div style="text-align: center">
      <h1>Corns7의 디데이를 보셨군요!</h1>
      <p>
        그렇다면 제 원본 디데이 사이트를 봐보시죠..
      </p>
      <h3>5초후 자동 리디렉션 됩니다</h3>
    </div>
  </div>
<script>
  let startsh = 1;

function update() {
  setTimeout(() => {
    const einf = document.getElementById("einfo");
    einf.style.display = "block";
    setTimeout(() => {
      einf.style.maxHeight = "200px";
      setTimeout(() => {
        einf.style.opacity = "1";
        setTimeout(() => {
          einf.style.opacity = "0";
          setTimeout(() => {
            einf.style.maxHeight = "0px";
            setTimeout(() => {
              einf.style.display = "none";
            }, 1000);
          }, 1000);
        }, 3000);
      }, 800)
    }, 15)
  }, 10)
}

async function loadBanner() {
  const url = 'https://raw.githubusercontent.com/ACOPS1206/KAPS.KR/main/banner.json';
  try {
    const response = await fetch(url + '?nocache=' + new Date().getTime());
    const data = await response.json();
    
    // 데이터 구조 파악 (객체 형태면 channels를 쓰고, 아니면 데이터 자체를 배열로 인식)
    const channels = data.channels || (Array.isArray(data) ? data : []);
    const interval = data.interval || 1000; // 간격 설정이 없으면 기본 1초
    
    const infot = document.getElementById("infot");
    const bannerP = document.querySelector('#infot p');
    
    if (channels.length === 0) return; // 채널이 없으면 실행 안 함

    let currentIndex = 0;

    function displayNextChannel() {
      if (currentIndex >= channels.length) {
        // 모든 채널이 끝나면 상단바를 완전히 닫음
        infot.style.maxHeight = "0px";
        infot.style.opacity = "0";
        return;
      }

      const current = channels[currentIndex];
      bannerP.innerText = current.text;

      // 상단바 나타나기
      infot.style.maxHeight = "70px";
      infot.style.opacity = "1";
      document.getElementById("picf").style.marginTop = "80px";

      // duration만큼 유지 후 사라지기
      setTimeout(() => {
        infot.style.maxHeight = "0px";
        infot.style.opacity = "0";
        
        currentIndex++;
        // 간격(interval) 후에 다음 채널 표시
        setTimeout(displayNextChannel, interval);
      }, current.duration);
    }

    // 첫 번째 채널 시작
    displayNextChannel();

  } catch (e) {
    console.error("배너 로드 실패:", e);
  }
}

if (document.referrer.includes("dday.corns7.com")) {
  startsh = 0;
  document.getElementById("corn").style.display = "flex";
  setTimeout(() => {
    window.location.replace("http://dday.kaps.kro.kr/");
  }, 5000);
} else {
  startsh = 1;
}

if (startsh == 1) {
  if (localStorage.getItem("vis") != "1") {
    document.getElementById("start").style.display = "flex";
    setTimeout(() => {
      document.getElementById("first").style.opacity = "0";
    }, 1000);
    setTimeout(() => {
      document.getElementById("first").style.display = "none";
      document.getElementById("second").style.display = "block";
      setTimeout(() => {
        document.getElementById("second").style.opacity = "1";
      }, 100);
    }, 2000);
    setTimeout(() => {
      document.getElementById("second").style.opacity = "0";
      setTimeout(() => {
        document.getElementById("second").style.display = "none";
        document.getElementById("main").style.display = "block";
        document.getElementById("start").style.display = "none";
        setTimeout(() => {
          document.getElementById("main").style.maxHeight = "100dvh";
          document.getElementById("main").style.opacity = "1";
          localStorage.setItem("vis", "1");
          if (typeof startBannerAnimation === 'function') startBannerAnimation();
          loadBanner();
        }, 100);
      }, 1100);
    }, 4000);
  } else {
    document.getElementById("start").style.display = "none";
    document.getElementById("main").style.display = "block";
    setTimeout(() => {
      document.getElementById("main").style.maxHeight = "100dvh";
      document.getElementById("main").style.opacity = "1";
      loadBanner();
    }, 100);
  }
}

function info() {
  localStorage.setItem("vis", "0");
  document.getElementById("info").style.display = "block";
  setTimeout(() => {
    document.getElementById("info").style.opacity = "1";
    document.getElementById("3icon").style.opacity = "0";
    setTimeout(() => {
      document.getElementById("3icon").style.display = "none";
    }, 1010);
    document.getElementById("info").style.maxHeight = "100dvh";
  }, 100);
  setTimeout(() => {
    document.getElementById("date").style.opacity = "1";
    setTimeout(() => {
      document.getElementById("date").style.opacity = "0";
      setTimeout(() => {
        document.getElementById("date").innerHTML = "이 사이트 개발에 AI의 도움은 없었습니다 | <b>독학</b><br>2026.01.05 - 01.06";
        setTimeout(() => {
          document.getElementById("date").style.opacity = "1";
        }, 100);
      }, 600);
    }, 1000);
  }, 2000);
}

</script>

<script src="script/Banner.js"></script>
</body>
</html>